/* =========================================================
   RESET + SAFE AREA + VIEWPORT FIX VARS
   ========================================================= */
* { margin:0; padding:0; box-sizing:border-box; }

:root{
  --sat: env(safe-area-inset-top);
  --sab: env(safe-area-inset-bottom);
  --sal: env(safe-area-inset-left);
  --sar: env(safe-area-inset-right);
  --vh: 1vh;
}

html, body {
  height:100%;
  overflow:hidden;
  background:#0a0a0a;
  color:#eaeaea;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

/* =========================================================
   COLOR WHEEL BACKGROUND (smooth + grain to reduce banding)
   ========================================================= */
#colorWheel{
  position: fixed;
  inset: -18vmax;
  z-index: 0;
  pointer-events: none;
  transform: translate3d(0,0,0);
  will-change: transform;
  opacity: 0.92;

  background:
    radial-gradient(circle at 50% 50%, rgba(0,0,0,0.46) 0%, rgba(0,0,0,0.84) 55%, rgba(0,0,0,0.98) 100%),
    conic-gradient(
      from 0deg,
      rgba(255, 70, 90, 0.48),
      rgba(255, 170, 70, 0.45),
      rgba(255, 245, 120, 0.42),
      rgba(120, 255, 180, 0.42),
      rgba(90, 210, 255, 0.45),
      rgba(140, 140, 255, 0.46),
      rgba(230, 120, 255, 0.47),
      rgba(255, 70, 90, 0.48)
    );

  -webkit-mask-image: radial-gradient(circle at 50% 50%,
    rgba(0,0,0,1) 0%,
    rgba(0,0,0,1) 40%,
    rgba(0,0,0,0.78) 56%,
    rgba(0,0,0,0.28) 72%,
    rgba(0,0,0,0) 86%
  );
  mask-image: radial-gradient(circle at 50% 50%,
    rgba(0,0,0,1) 0%,
    rgba(0,0,0,1) 40%,
    rgba(0,0,0,0.78) 56%,
    rgba(0,0,0,0.28) 72%,
    rgba(0,0,0,0) 86%
  );

  filter: blur(52px) saturate(130%) contrast(102%);
}

#colorWheel::before{
  content:"";
  position:absolute;
  inset:0;
  background: radial-gradient(circle at 50% 45%,
    rgba(0,0,0,0.05) 0%,
    rgba(0,0,0,0.58) 62%,
    rgba(0,0,0,0.96) 100%
  );
}

/* subtle grain overlay */
#colorWheel::after{
  content:"";
  position:absolute;
  inset:0;
  opacity: 0.14;
  mix-blend-mode: soft-light;
  pointer-events:none;

  background:
    repeating-linear-gradient(0deg,
      rgba(255,255,255,0.012) 0px,
      rgba(255,255,255,0.012) 1px,
      rgba(0,0,0,0.012) 2px,
      rgba(0,0,0,0.012) 3px
    ),
    repeating-linear-gradient(90deg,
      rgba(255,255,255,0.010) 0px,
      rgba(255,255,255,0.010) 1px,
      rgba(0,0,0,0.010) 2px,
      rgba(0,0,0,0.010) 3px
    );
  filter: blur(0.6px);
}

/* =========================================================
   NAVBAR
   ========================================================= */
.navbar {
  position: fixed;
  top: calc(12px + var(--sat));
  left: 0;
  width:100%;
  z-index:100;

  display:flex;
  justify-content:center;
  align-items:center;
  height:50px;

  padding-left: calc(12px + var(--sal));
  padding-right: calc(12px + var(--sar));
}

.social-icons a{ color:#fff; text-decoration:none; }
.social-icons a i{ color:#fff; }

.nav-left{
  position:absolute;
  left: calc(20px + var(--sal));
  display:flex;
  gap:12px;
  align-items:center;
}
.nav-left i{
  font-size:20px;
  opacity:0.75;
  transition: opacity 0.25s ease, transform 0.25s ease;
}
.nav-left a:hover i{
  opacity:1;
  transform: translateY(-2px);
}

.nav-center{
  display:flex;
  gap:22px;
  align-items:center;
}
.nav-center button{
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.15);
  color:#fff;
  padding:6px 14px;
  border-radius:999px;
  font-size:0.75rem;
  cursor:pointer;
  opacity:0.75;
  position:relative;
  backdrop-filter: blur(10px);
  transition: background 0.25s, border-color 0.25s, transform 0.25s, opacity 0.25s;
}
.nav-center button:hover{
  background: rgba(255,255,255,0.10);
  border-color: rgba(255,255,255,0.28);
  transform: translateY(-1px);
  opacity: 1;
}
.nav-center button.active{ opacity:1; }

.nav-center button::after{
  content:"";
  position:absolute;
  left:50%;
  bottom:-14px;
  width:5px;
  height:5px;
  background:#fff;
  border-radius:50%;
  transform: translateX(-50%) scale(0);
  opacity:0;
  transition: transform 0.35s cubic-bezier(.4,0,.2,1), opacity 0.35s ease;
}
.nav-center button.active::after{
  transform: translateX(-50%) scale(1);
  opacity: 0.9;
}

/* =========================================================
   PAGE WRAPPER + SECTIONS
   ========================================================= */
#page-wrapper{
  position: relative;
  z-index: 1;
  width:100%;
  height:100%;
  will-change: transform;
}

.section{
  height: calc(var(--vh) * 100);
  min-height: 100svh;
  min-height: 100dvh;

  display:flex;
  align-items:center;
  justify-content:center;

  padding-top: calc(76px + var(--sat));
  padding-bottom: calc(28px + var(--sab));
  padding-left: calc(10px + var(--sal));
  padding-right: calc(10px + var(--sar));
}

/* default content ‚Äì nech√°me ƒçiteln√© pro textov√© sekce */
.content{
  max-width: 900px;
  padding: 2rem;
  text-align:center;
  width: 100%;
}

/* Home content p≈ôes celou ≈°√≠≈ôku, bez vnit≈ôn√≠ho paddingu */
.section.hero .content{
  max-width: none;
  width: 100%;
  padding: 0 !important;          /* üî• √∫plnƒõ pryƒç padding */
  margin: 0;
}

/* Carousel skuteƒçnƒõ p≈ôes celou ≈°√≠≈ôku viewportu */
.section.hero .carousel-stage,
.section.hero .carousel-3up{
  width: calc(100vw - var(--sal) - var(--sar));
  max-width: none;
}

/* zru≈°√≠me p≈ô√≠padn√© boƒçn√≠ mezery z mobile rules */
@media (max-width: 768px){
  .section.hero .content{
    padding: 0 !important;
  }
}

/* =========================================================
   TYPO
   ========================================================= */
h1{
  font-size: clamp(2.2rem, 4vw, 3.5rem);
  margin-bottom: 1rem;
  white-space: nowrap;
  overflow:hidden;
  text-overflow: ellipsis;
}
h2{
  font-size: clamp(2.2rem, 4vw, 3.2rem);
  margin-bottom: 1rem;
}
.lead{
  font-size: 1.1rem;
  opacity: 0.86;
  line-height: 1.6;
}

/* =========================================================
   ABOUT
   ========================================================= */
.section.about .content{
  text-align:left;
  max-width:900px;
  margin: 0 auto;
}
.section.about p{
  font-size:1rem;
  line-height:1.8;
  color:#eaeaea;
}

.highlight-link{
  font-weight:700;
  color:#b25cff;
  text-decoration:none;
  transition: color 0.25s ease;
}
.highlight-link:hover{ color:#e0a0ff; }

.about-left{
  text-align:left;
  max-width:800px;
  margin:0 auto;
}

.avatar-wrapper{
  display:flex;
  justify-content:flex-start;
  margin-bottom: 1rem;
}
.avatar{
  width: 120px;
  height: 120px;
  border-radius: 50%;
  border: 4px solid #fff;
  object-fit: cover;
  box-shadow: 0 4px 16px rgba(0,0,0,0.5);
}

/* =========================================================
   CONTACT
   ========================================================= */
.contact-btn{
  display:inline-block;
  margin-top: 20px;
  padding: 10px 22px;
  border-radius: 30px;
  border: 1px solid rgba(255,255,255,0.2);
  color:#fff;
  text-decoration:none;
  transition: transform 0.25s ease, background 0.25s ease, border-color 0.25s ease;
}
.contact-btn:hover{
  transform: translateY(-1px);
  background: rgba(255,255,255,0.06);
  border-color: rgba(255,255,255,0.30);
}

/* =========================================================
   CAROUSEL (DESKTOP: wide, center 100% feel, sides cropped)
   - no borders, no gaps, no rounding
   ========================================================= */
.carousel-stage{
  width: 100%;
  display:flex;
  justify-content:center;
  margin-top: 1.4rem;
}

.carousel-3up{
  /* ‚úÖ wider */
  width: min(1600px, calc(100vw - var(--sal) - var(--sar)));
  display:flex;
  align-items: stretch;
  justify-content:center;
  gap: 0;
  overflow: hidden;
  will-change: transform, opacity;
  border: none;
  background: transparent;
}

/* panels */
.carousel-panel{
  position: relative;
  overflow: hidden;
  border-radius: 0;
  height: min(62vh, 600px);
  display:flex;
  align-items:center;
  justify-content:center;
  will-change: transform, opacity;
}

/* images: crop is OK */
.carousel-panel img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: 50% 50%;
  border-radius: 0;
  user-select: none;
  -webkit-user-drag: none;
}

/* widths: center dominates */
.carousel-panel.prev,
.carousel-panel.next{
  flex: 0 0 24%;
  opacity: 0.92;
  pointer-events: none;
}
.carousel-panel.current{
  flex: 0 0 52%;
  opacity: 1;
  pointer-events: auto;
}

/* side dim */
.side-dim{
  position:absolute;
  inset:0;
  background: rgba(0,0,0,0.22);
  pointer-events:none;
}

/* overlay only on current */
.carousel-overlay{
  position:absolute;
  inset:0;
  background: rgba(0,0,0,0.55);
  opacity:0;
  transition: opacity 0.35s ease;
  display:flex;
  align-items:center;
  justify-content:center;
}
.carousel-panel.current:hover .carousel-overlay{ opacity:1; }

.overlay-content{
  font-size: 0.92rem;
  color:#fff;
  text-align:center;
  max-width: 90%;
}
.overlay-content p{ margin-bottom: 6px; }

.overlay-icons{
  display:flex;
  gap: 14px;
  justify-content:center;
  margin-top: 10px;
}
.overlay-content .icon-link{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-size: 1.7rem;
  color:#fff;
  opacity:0.85;
  transition: opacity 0.25s ease, transform 0.25s ease;
  text-decoration:none;
}
.overlay-content .icon-link:hover{
  opacity:1;
  transform: translateY(-2px);
}

/* focus overlay (mobile only) */
.focus-overlay{ display:none; }

.carousel-info{
  margin-top: 12px;
  opacity: 0.88;
}

/* =========================================================
   RESPONSIVE
   ========================================================= */
@media (max-width: 900px){
  .carousel-panel{ height: min(54vh, 540px); }
  .carousel-panel.prev,
  .carousel-panel.next{ flex-basis: 22%; }
  .carousel-panel.current{ flex-basis: 56%; }
}

/* MOBILE: main + peeks, sides darker */
@media (max-width: 768px){

  .navbar{
    height:44px;
    top: calc(10px + var(--sat));
  }

  .nav-left{
    left: calc(12px + var(--sal));
    gap: 10px;
  }
  .nav-left i{ font-size: 18px; }

  .nav-center{ gap: 10px; }
  .nav-center button{
    padding: 6px 10px;
    font-size: 0.72rem;
  }
  .nav-center button::after{
    bottom: -12px;
    width: 4px;
    height: 4px;
  }

  .section{
    padding-top: calc(70px + var(--sat));
    padding-bottom: calc(34px + var(--sab));
  }

  .content{
    padding: 1.25rem;
    max-width: 680px;
  }

  h1{
    font-size: clamp(1.85rem, 7vw, 2.6rem);
    white-space: normal;
    overflow: visible;
    text-overflow: unset;
    line-height: 1.15;
  }

  #colorWheel{
    filter: blur(56px) saturate(125%) contrast(101%);
    opacity: 0.88;
  }
  #colorWheel::after{ opacity: 0.12; }

  .carousel-3up{
    width: calc(100vw - var(--sal) - var(--sar));
  }

  .carousel-panel{
    height: min(38svh, 360px);
    height: min(38dvh, 360px);
  }

  .carousel-panel.prev,
  .carousel-panel.next{
    flex-basis: 12%;
    opacity: 0.78;
  }

  .carousel-panel.current{
    flex-basis: 76%;
  }

  .carousel-panel.current img{
    object-position: 50% 42%; /* focus slightly higher */
  }

  .side-dim{
    background: rgba(0,0,0,0.45); /* darker sides */
  }

  .focus-overlay{
    display:block;
    position:absolute;
    inset:0;
    pointer-events:none;
    background:
      radial-gradient(circle at 50% 45%,
        rgba(0,0,0,0.00) 0%,
        rgba(0,0,0,0.10) 52%,
        rgba(0,0,0,0.26) 100%
      );
  }

  .overlay-content{
    font-size: 0.95rem;
    max-width: 92%;
  }
  .overlay-content .icon-link{ font-size: 1.75rem; }
}

@media (max-width: 420px){
  .nav-center button{
    padding: 6px 9px;
    font-size: 0.68rem;
  }
  .nav-left i{ font-size: 17px; }

  .carousel-panel{
    height: min(34svh, 320px);
    height: min(34dvh, 320px);
  }

  .carousel-panel.prev,
  .carousel-panel.next{ flex-basis: 10%; opacity: 0.74; }
  .carousel-panel.current{ flex-basis: 80%; }
}
